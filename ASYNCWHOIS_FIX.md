# Исправление ошибки asyncwhois API

## Проблема

Бот мониторинга выдавал ошибку:
```
ERROR:root:Ошибка при получении WHOIS данных для домена example.com: module 'asyncwhois' has no attribute 'aio'
```

Это было вызвано несовместимостью API в установленной версии asyncwhois (1.1.12).

## Решение

### 1. Обновление функции get_whois_expiry_date

В файле `whois_watchdog.py` была обновлена функция `get_whois_expiry_date`:

- Заменен вызов `await asyncwhois.aio.lookup(domain)` на `await asyncwhois.aio_whois(clean_domain)`
- Добавлена очистка домена с использованием `tldextract` для корректной обработки URL
- Улучшена обработка различных форматов ответа от asyncwhois

### 2. Добавление зависимости

В файл `requirements.txt` была добавлена зависимость:
```
tldextract==5.1.1
```

### 3. Установка пакета

Выполнена установка пакета:
```bash
pip install tldextract==5.1.1
```

## Результат

После внесения изменений:
- Ошибка `module 'asyncwhois' has no attribute 'aio'` устранена
- WHOIS данные успешно получаются для большинства доменов
- Бот корректно работает и добавляет домены в систему мониторинга

## Примечания

Некоторые домены (особенно в кодировке punycode) могут все еще иметь проблемы с получением WHOIS данных. Это связано с особенностями WHOIS серверов и не является ошибкой кода.